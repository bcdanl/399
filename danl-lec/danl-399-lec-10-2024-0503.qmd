---
title: Lecture 10
subtitle: Quarto Dashboards
format:
  clean-revealjs:
    # self-contained: true
    chalkboard: true
    # incremental: true
    # logo: logo-title-slide.png
author:
  - name: Byeong-Hak Choe
    email: bchoe@geneseo.edu
    affiliations: SUNY Geneseo
date: 2024-05-03
execute: 
  eval: true
  echo: true
  warning: false
  message: false
callout-icon: false

from: markdown+emoji

# bibliography: refs.bib
include-after-body: target-hover.html
---

```{r}
#| include: false
library(tidyverse)
library(skimr)
library(ggthemes)
library(hrbrthemes)
library(socviz)
library(gapminder)
library(ggrepel)
library(RColorBrewer)
library(ggridges)
library(gridExtra)
library(viridis)


theme_set(theme_fivethirtyeight()+
          theme(strip.background =element_rect(fill="lightgray"),
                axis.title.x = 
                  element_text(angle = 0,
                               size = rel(1.5),
                               margin = margin(10,0,0,0)),
                axis.title.y = 
                  element_text(angle = 90,
                               size = rel(1.5),
                               margin = margin(0,10,0,0)),
                axis.text.x = element_text(size = rel(1.5)),
                axis.text.y = element_text(size = rel(1.5)),
                strip.text = element_text(size = rel(1.5)),
                legend.position = "top",
                legend.text = element_text(size = rel(1.5)),
                legend.title = element_text(size = rel(1.5))
                )
          )
```




# Quarto Dashboards {background-color="#1c4982"}


## Quarto Dashboards
### What is a dashboard?

- A dashboard is a way of displaying various types of visual data in one place. 

  - Usually, a dashboard is intended to convey different, but related information in an easy-to-digest form.

  - E.g., [SUNY Geneseo Institutional Research Discovery Dashboards](https://www.geneseo.edu/ir/institutional-research-discovery-dashboards)

## Quarto Dashboards

A new output format for easily creating\
dashboards from `.qmd` files

##  {.no-line background-image="images/dashboards/dashing-through-snow.png" background-size="contain"}

##  {.no-line background-image="images/dashboards/customer-churn.png" background-size="contain"}

##  {.no-line background-image="images/dashboards/mynorfolk.png" background-size="contain"}

##  {.no-line background-image="images/dashboards/earthquakes.png" background-size="contain"}

##  {.no-line background-image="images/dashboards/model-card.png" background-size="contain"}

##  {.no-line background-image="images/dashboards/shiny-penguins.png" background-size="contain"}

##  {.no-line background-image="images/dashboards/gapminder.png" background-size="contain"}

## .qmd ➝ Dashboard

``` {.markdown code-line-numbers="|3"}
---
title: "Dashing through the snow ❄️"
format: dashboard
---

# content goes here...
```

## Quarto Dashboards

- Quarto Dashboards requires Quarto version above 1.4.

  - [Download Quarto](https://quarto.org/docs/download/)




## Dashboard Basics

- Dashboards are composed of **cards**
- Cards are arranged into **rows** and **columns**
- **Pages**, **tabsets**, and **sidebars** allow more advanced layouts


With these simple building blocks, it is pretty straightforward to build some cool dashboards...


## Dashboard Basics 

```` markdown
--- 
title: My Dashboard
author: Your Name
format:
  dashboard
---

```{{r}}
library(tidyverse)
```

```{{r}}

```


````



## Plots

Each code chunk makes a card, and can take a title

::: columns
::: {.column .fragment .smaller}
```` r
```{{r}}
#| title: GDP and Life Expectancy

library(gapminder)
library(tidyverse)
ggplot(gapminder, 
       aes(x = gdpPercap, 
           y = lifeExp, 
           color = continent)) +
  geom_point()
```
````
:::

::: {.column .fragment}
![](images/ggplot-gapminder.png){width="85%"}
:::
:::


## Navigation Bar and Pages

![](images/navigation-toolbar.png)

::: {style="margin-top: 0.7em;"}
``` markdown
--- 
title: "Palmer Penguins"
author: "Cobblepot Analytics"
format: 
  dashboard:
    logo: images/penguins.png
    nav-buttons: [linkedin, twitter, github]
---

# Bills

# Flippers

# Data
```
:::

## Sidebars: Page Level

:::: columns
::: column
```` {.markdown style="margin-top: 45px;"}
---
title: "Sidebar"
format: dashboard
---
    
# Page 1

## {.sidebar}

```{{r}}
```

## Column 

```{{r}}
```

```{{r}}
```
````
:::

::: {.column .fragment}
![](images/chart-input-sidebar.png)
:::
::::

## Sidebars: Global

::: columns
::: column
```` {.markdown style="margin-top: 45px;"}
---
title: "Global Sidebar"
format: dashboard
---
    
# {.sidebar}

Sidebar content (e.g. inputs)

# Plot

```{{r}}
```

# Data

```{{r}}
```
````
:::

::: {.column .fragment}
![](images/global-sidebar.png){width="80%"}
:::
:::

## Layout: Rows

::: columns
::: {.column style="margin-top: 65px;"}
```` markdown
---
title: "Focal (Top)"
format: dashboard
---
    
## Row {height=70%}

```{{r}}
```

## Row {height=30%}

```{{r}}
```

```{{r}}
```
````
:::

::: {.column .fragment}
![](images/chart-focal-top.png){width="90%"}
:::
:::

##  {.no-line background-image="images/dashboards/customer-churn.png" background-size="contain"}

## Layout: Columns

::: columns
::: {.column style="margin-top: 40px;"}
```` markdown
---
title: "Focal (Top)"
format: 
  dashboard:
    orientation: columns
---
    
## Column {width=60%}

```{{r}}
```

## Column {width=40%}

```{{r}}
```

```{{python}}
```
````
:::

::: {.column .fragment}
![](images/chart-focal-left.png)
:::
:::

##  {.no-line background-image="images/dashboards/housing-market.png" background-size="contain"}

## Tabset

::: columns
::: {.column style="margin-top: 45px;"}
```` markdown
---
title: "Palmer Penguins"
format: dashboard
---
    
## Row

```{{r}}
```

## Row {.tabset}

```{{r}}
#| title: Chart 2
```

```{{r}}
#| title: Chart 3
```
````
:::

::: {.column .fragment}
![](images/chart-tabset-row.png){width="87%"}
:::
:::

##  {.no-line background-image="images/dashboards/mynorfolk.png" background-size="contain"}


## Tables

Each code chunk makes a card, doesn't have to have a title

::: columns
::: {.column .fragment .smaller}
```` r
```{{r}}
library(gapminder)
library(tidyverse)
library(gt)

gapminder |>
  group_by(continent, year) |>
  summarize(mean_lifeExp = 
              round(mean(lifeExp), 1)) |>
  pivot_wider(names_from = continent, 
              values_from = mean_lifeExp) |>
  gt()
```
````
:::

::: {.column .fragment}
![](images/kable-gapminder.png){width="85%"}
:::
:::

## Value Boxes

- Value boxes are a great way to prominently display simple values within a dashboard. For example, here is a dashboard row with three value boxes:

![](images/value-boxes.png){width="85%"}



## Value Boxes

```` r
```{{r}}
#| content: valuebox
#| title: "Spam per day"

list(
  icon = "trash",
  color = "danger",
  value = spam
)
```
````




## Value Boxes
### `icon` and `color`
- The `icon` used in value boxes can be any of the 2,000 available [bootstrap icons](https://icons.getbootstrap.com).

- The `color` can be any CSS color value, however there are some color aliases that are tuned specifically for dashboards that you might consider using by default:


:::: columns
::: column
  - `primary`: Blue
  - `secondary`: Gray
  - `success`: Green
  - `info`:	Bright Blue

:::
::: column
  - `warning`: Yellow/Orange
  - `danger`:	Red
  - `light`: Light Gray
  - `dark`:	Black

:::
::::



## Other features

-   Text content

-   Expanding cards

## Dashboard deployment

Dashboards are typically just static HTML pages so can be deployed to any web server or web host!

## Interactive Dashboards

<https://quarto.org/docs/dashboards/interactivity/shiny-r>

-   For interactive exploration, some dashboards can benefit from a live R backend

-   To do this with Quarto Dashboards, add interactive [Shiny](https://shiny.posit.co) components

-   Deploy with or without a server!


## Learn more

[https://quarto.org/docs/dashboards](https://quarto.org/docs/dashboards)


