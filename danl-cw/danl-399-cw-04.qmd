---
title: Classwork 4
subtitle: ggplot Basics
date: 2023-02-01
execute: 
  echo: true
  warning: false
  message: false
  
from: markdown+emoji
---

```{r}
#| include: false
library(tidyverse)
library(skimr)
library(ggthemes)
library(hrbrthemes)
library(DT)

theme_set(theme_ipsum()+
          theme(strip.background =element_rect(fill="lightgray"),
                axis.title.x = 
                  element_text(angle = 0,
                               size = rel(1.33),
                               margin = margin(10,0,0,0)),
                axis.title.y = 
                  element_text(angle = 90,
                               size = rel(1.33),
                               margin = margin(0,10,0,0))
                )
          )
```

# Question 1. First Steps

Load the following data.frame, `mpg`.
```{r}
library(tidyverse)
mpg <- ggplot2::mpg
```


```{r}
datatable(mpg)
```

<br>

```{r}
library(skimr)
skim(mpg)
```



## Q1a. 
Run `ggplot(data = mpg)`. What do you see?
```{r}
ggplot(data = mpg)
```

<br>


## Q1b.
Write a ggplot code to make a scatterplot of `hwy` vs. `cyl`.

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = hwy, y = cyl))
```

<br>

## Q1c.
- What happens if you make a scatterplot of `class` vs. `drv`? 
  - Why is the plot not useful?


```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = class, y = drv))
```

<br><br><br>

# Question 2. Aethetic Mapping


## Q2a.
- Which variables in `mpg` are categorical? 
- Which variables are continuous?

<br>

## Q2b.
- Map a continuous variable to `color`, `size`, and `shape`. 
- How do these aesthetics behave differently for categorical vs. continuous variables?

<br>

## Q2d.
What happens if you map an aesthetic to something other than a variable name, like `aes(color = displ < 5)`? 


<br><br><br>


# Question 3. Facets

## Q3a.
What happens if you facet on a continuous variable?

<br>

## Q3b.
- What do the empty cells in the scatterplot of `displ` vs. `hwy` with `facet_grid(drv ~ cyl)` mean? 
  - How do they relate to this plot?
```{r, echo = T, eval = T}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = drv, y = cyl))
```

<br>

## Q3c.
What plots does the following code make? What does `.` do?
```{r}
#| eval: false

ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy),
             alpha = .5) +
  facet_grid(drv ~ .)

ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy),
             alpha = .5) +
  facet_grid(drv ~ .)

ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy),
             alpha = .5) +
  facet_grid(. ~ cyl)
```

<br>

## Q3d.
Consider the following faceted plot:
```{r}
#| eval: false

ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy),
             alpha = .5) + 
  facet_wrap(~ class, nrow = 2)
```
  - What are the advantages to using faceting instead of the color aesthetic? 
  - What are the disadvantages? 
  - How might the balance change if you had a larger dataset?
  
<br>

## Q3e.
- Read `?facet_wrap`. 
  - What does `nrow` do? 
  - What does `ncol` do? 
  - What other options control the layout of the individual panels? 
  - Why doesnâ€™t `facet_grid()` have `nrow` and `ncol` arguments?

<br>

## Q3f.
When using `facet_grid()`, you should usually put the variable with more unique levels in the columns. Why?

<br>

## Q3g.
Use the following data.frame.

```{r}
#| echo: true
tvshows_web <- read_csv(
		'https://bcdanl.github.io/data/tvshows.csv')
```

```{r}
datatable(tvshows_web)
```

<br>

- Describe the relationship between audience size (`GRP`) and audience engagement (`PE`) using `ggplot`. 

- Explain the relationship in words. 


<br>

